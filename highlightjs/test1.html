<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Highlight JS test</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/darkula.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
    <script src="scripts/angular.js"></script>
    <script src="scripts/angular-sanitize.js"></script>
</head>
<body ng-app="myApp">
<h1>Code highlight sample</h1>

<div ng-controller="myCtrl" style="width: 600px;">
    <div>
        <textarea ng-model="codeblock" rows="10" cols="60"></textarea>
    </div>
    <div ng-bind-html="codeblock | codeHighLight">

    </div>
</div>


<script>
    var app = angular.module('myApp', ['ngSanitize']);


    app.controller("myCtrl", ['$scope', function ($scope) {

    }]);

    app.filter("codeHighLight", function () {
        return function(text) {

            if (text) {

                var highLightedCode = hljs.highlightAuto(text);

                return "<pre><code class='hljs " + highLightedCode.language + "'>" + highLightedCode.value + "</code></pre>";
            } else {
                return text;
            }

        }
    })
</script>

</body>
</html>